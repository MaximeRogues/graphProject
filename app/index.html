<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title> Evaluation de la toxicité du paracetamol</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.4.0/chart.min.js" integrity="sha512-JxJpoAvmomz0MbIgw9mx+zZJLEvC6hIgQ6NcpFhVmbK1Uh5WynnRTTSGv3BTZMNBpPbocmdSJfldgV5lVnPtIw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet" href="main.css">
</head>
<body>
    <header>
        <button class="btn_translation" data-langage="french"> Français </button>
        <button class="btn_translation" data-langage="english"> English </button>
    </header>
    <div id="title">
        <h1 class="main_title"> #HopiTox </h1>
        <svg  data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" height="75%" width="100%"viewBox="0 0 1200 120" preserveAspectRatio="none" ><path  d="M0,0V7.23C0,65.52,268.63,112.77,600,112.77S1200,65.52,1200,7.23V0Z" class="shape-fill" fill="#8FE5CC" fill-opacity="1"></path></svg>
    </div>
    <h2 class="sub_title"> HopiTox est un outil dynamique reprenant l'équation de Rumack dans une interface intuitive. Il permet de réaliser le calcul de la dose ingérée en mg/Kg, l'utilisation d'un nomogramme dynamique pour évaluer le risque toxique en fonction de la paracétamolémie, et le calcul de la demi-vie. Il ne subsitue évidemment pas à l'avis médical ni au dialogue clinico-biologique. </h2>

    <div id="need_dose_agreement" class="visible">
        <input type="checkbox" data-div="need_dose" name="need_dose" id="need_dose_calc">
        <label class="need_dose" for="need_dose_calc"> Il est possible de calculer la dose en mg/kg. </label>
    </div>

    <div id="need_dose" class="invisible">
        <input class="subject_weight"type="number" placeholder="Poids du patient (kg)">
        <input class="subject_hypothetic_dosis"type="number" placeholder="Dose supposée(g)">
        <button class="calc_dose" type="submit"> Calcul de la dose en mg/kg </button>
    </div>
    <div class="need_dose_result_container">
        <p id="need_dose_result"> </p>
    </div>
    <div id="agreement" class="visible">
        <input type="checkbox" data-div="calc_tox" name="accept_agreement" id="accept_agreement">
        <label class="text_agreement" for="accept_agreement"> L'ingestion a eu lieu en prise unique, le nomogramme est donc utilisable. </label>
    </div>

    <div id="calc_tox" class="invisible">
        <input class="time_after_ingestion"type="number" placeholder="Durée post-ingest. (h)">
        <input class="paracetamol_concentration"type="number" placeholder="Paracetamol (mg/l)">
        <button class="calc_data" type="submit"> Evaluer le risque </button>
    </div>


    <div class="alertBadData invisible">
        <h3> Attention le nomogramme n'est utilisable que si le prélèvement est réalisé au moins 4 heures après ingestion. Reprélever le patient.</h3>
    </div>

    <div id="container_result"class="invisible">
        <p class="p_result">résultat</p>
    </div>

    <canvas class="graph" width="400" height="200"></canvas>

    <div class="container_half_life">
        <div id="need_half_life">
            <input type="checkbox" data-div="container_calc_half_life" name="need_half_life" id="need_half_life">
            <label class="text_need_half_life" for="need_half_life"> Deux prélèvements consécutifs ont été effectués. Il est possible de calculer la demi-vie. </label>
        </div>
     
        <div id="container_calc_half_life" class="invisible">
            <div class="first_date_picker">
                <label for="first_sampling_time" class="first_sampling_label"> Date et heure du premier prélèvement </label>
                <input type="datetime-local" class="first_sampling_time" id="first_sampling_time">
            </div>
            <div class="first_concentration">
                <label for="first_concentration"> Concentration 1 </label>
                <input class="paracetamol_concentration_1" type="number"  id="first_concentration" placeholder="Paracetamol conc. (mg/l)">
            </div>

            <div class="second_date_picker">
                <label for="second_sampling_time" class="second_sampling_label"> Date et heure du second prélèvement </label>
                <input type="datetime-local" class="second_sampling_time" id="second_sampling_time">
            </div>
            <div class="second_concentration">
                <label for="second_concentration"> Concentration 2 </label>
                <input class="paracetamol_concentration_2" type="number" id="second_concentration" placeholder="Paracetamol conc. (mg/l)">
            </div>
            <button class="calc_half_life"> calculer </button>
            <div class="result_half_life">
                <p id="result_calc_half_life" class="invisible"> Result</p>
            </div>
        </div>
    </div>

    <div class="contact">
        <p>Créé en juillet 2021 suite à une discussion entre une biologiste et un développeur, cette outil est gratuit, réalisé de manière bénévole, et peut être incrémenté au gré de vos demandes. </p>
        <p> <a HREF="mailto:manon.launay@wanadoo.fr">Nous contacter</a></p>
    </div>
    

    <footer> 
        <p class="title_ref"> Références : </p>
        <p class="ref">White SJ, Rumack BH. The acetaminophen toxicity equations: "solutions" for acetaminophen toxicity based on the Rumack-Matthew nomogram. Ann Emerg Med. 2005 May;45(5):563-4. doi: 10.1016/j.annemergmed.2004.11.033. PMID: 15855961.</p>
        <p class="ref">Saint-Marcoux F, Libert F; groupe Suivi thérapeutique pharmacologique de la Société française de pharmacologie et de thérapeutique. Éléments de l'interprétation et du dialogue clinico-biologique pour quelques paramètres usuels de pharmacologie-toxicologie [Practical information for therapeutic drug monitoring of the most common compounds]. Therapie. 2016 Sep;71(4):405-34. French. doi: 10.1016/j.therap.2016.01.007. Epub 2016 May 4. PMID: 27203171.</p>
    </footer>
    <script type="module" src="js/app.js"></script>

</body>
</html>
